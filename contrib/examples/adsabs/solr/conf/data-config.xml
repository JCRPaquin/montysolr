<dataConfig>
    <dataSource type="AdsDataSource" mongoHost="adszee" mongoPort="27017" jdbcConfig="" />
    <document>
        <entity name="adsabs"
            pk="id"
            url="${dataimporter.request.url}"
            processor="XPathEntityProcessor"
            transformer="TemplateTransformer,DateFormatTransformer"
            forEach="/collection/record"
            flatten="false"
            >
        
        <field column="id" 
            xpath="/collection/record/controlfield[@tag='001']" />
            
        <field column="bibcode" 
            xpath="/collection/record/datafield[@tag='970']/subfield[@code='a']" />
            
        <field column="reportnumber"        
            xpath="/collection/record/datafield[@tag='037']/subfield[@code='a']" />
            
        <field column="author"        
            xpath="/collection/record/datafield[@tag='700']/subfield[@code='a']" />
        <field column="author_norm"        
            xpath="/collection/record/datafield[@tag='700']/subfield[@code='b']" />   
        <field column="aff"        
            xpath="/collection/record/datafield[@tag='700']/subfield[@code='u']" />   

        <field column="abs"        
            xpath="/collection/record/datafield[@tag='520']/subfield[@code='a']" />

        <field column="title"        
            xpath="/collection/record/datafield[@tag='245']/subfield[@code='a']" />
        <field column="title"        
            xpath="/collection/record/datafield[@tag='242']/subfield[@code='a']" />      
        
        <field column="pub"        
            xpath="/collection/record/datafield[@tag='773']/subfield[@code='p']" />
        
        <field column="year"
            xpath="/collection/record/datafield[@tag='773']/subfield[@code='y']" />
            
        <field column="collection"        
            xpath="/collection/record/datafield[@tag='980']/subfield[@code='a']" />

        <field column="topic"        
            xpath="/collection/record/datafield[@tag='653']/subfield[@code='a']" />
            
        <field column="pubdate" 
            xpath="/collection/record/datafield[@tag='260' and subfield[@code='t']='main-date']/subfield[@code='c']" />
            
        <field column="refereed"
            xpath="/collection/record/datafield[@tag='980' and subfield[@code='a']='REFEREED']/subfield[@code='a']"/>
            
        <field column="openaccess"
            xpath="/collection/record/datafield[@tag='980' and subfield[@code='a']='OPENACCESS']/subfield[@code='a']"/>
            
        <field column="database"
            xpath="/collection/record/datafield[@tag='980' and subfield[@code='m']='database']/subfield[@code='a']"/>
            
        <field column="preprint"
            xpath="/collection/record/datafield[@tag='907' and subfield[@code='a']='ARXIV']/subfield[@code='a']"/>
            
        <field column="bibgroup"
            xpath="/collection/record/datafield[@tag='980' and subfield[@code='m']='bibgroup']/subfield[@code='a']"/>
            
        <!-- field column="entdate" xpath="" / -->
        <!-- field column="bibgroup" xpath="" / -->
            
        <field column="full" template="${adsabs.bibcode}"/>
        
        <field column="ack" template="${adsabs.bibcode}" />
        
        <field column="reader" template="${adsabs.bibcode}" />

        </entity>
        
    </document>
</dataConfig>
